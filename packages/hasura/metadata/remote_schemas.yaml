- name: github
  definition:
    url: https://api.github.com/graphql
    timeout_seconds: 60
    headers:
      - name: Authorization
        value_from_env: GITHUB_AUTHORIZATION_HEADER
    forward_client_headers: true
  comment: ""
  permissions:
    - role: anonymous
      definition:
        schema: |
          scalar URI
          type PageInfo {
            hasNextPage: Boolean!
            hasPreviousPage: Boolean!
          }
          type Query {
            search(first: Int, query: String!, type: SearchType!): SearchResultItemConnection!
          }
          type SearchResultItemConnection {
            codeCount: Int!
            discussionCount: Int!
            issueCount: Int!
            nodes: [SearchResultItem]
            pageInfo: PageInfo!
            repositoryCount: Int!
            userCount: Int!
            wikiCount: Int!
          }
          type User {
            avatarUrl: URI!
            login: String!
            name: String
          }
          type Organization {
            team: Team
          }
          union SearchResultItem = Organization
          enum SearchType {
            ORGANIZATION
          }
          type Team {
            avatarUrl: URI
            slug: String!
            name: String!
          }
